<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ ‡å‡†æ—¥è¯­ åˆçº§ä¸Šå†Œ - ç¬¬ä¸€è¯¾</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP&family=Noto+Sans+SC&display=swap" rel="stylesheet">
    <style>
        .audio-button {
            background: linear-gradient(145deg, #007acc, #005c99);
            color: white;
            border: none;
            border-radius: 6px;
            padding: 6px 10px;
            margin-left: 8px;
            cursor: pointer;
            font-size: 12px;
            vertical-align: middle;
            min-width: 35px;
            position: relative;
            box-shadow: 0 2px 4px rgba(0,122,204,0.3);
            transition: all 0.2s ease;
        }
        .audio-button:hover {
            background: linear-gradient(145deg, #005c99, #004d80);
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0,122,204,0.4);
        }
        .audio-button:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(0,122,204,0.3);
        }
        .audio-button.loading {
            background: linear-gradient(145deg, #ffc107, #e0a800);
            animation: pulse 1s infinite;
        }
        .audio-button.playing {
            background: linear-gradient(145deg, #28a745, #1e7e34);
            animation: glow 1s infinite alternate;
        }
        .audio-button.error {
            background: linear-gradient(145deg, #dc3545, #c82333);
        }
        .audio-button.manual {
            background: linear-gradient(145deg, #17a2b8, #138496);
        }
        .speech-controls {
            margin: 10px 0;
            padding: 12px;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 8px;
            border: 1px solid #dee2e6;
            font-size: 12px;
            color: #495057;
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            gap: 15px;
        }
        .control-group {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .control-group label {
            font-weight: 600;
            color: #343a40;
        }
        .control-group select, .control-group button {
            font-size: 11px;
            padding: 4px 8px;
            border: 1px solid #ced4da;
            border-radius: 4px;
            background: white;
        }
        .control-group button {
            background: linear-gradient(145deg, #6c757d, #545b62);
            color: white;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .control-group button:hover {
            background: linear-gradient(145deg, #545b62, #495057);
        }
        .audio-status {
            font-size: 10px;
            color: #666;
            background: rgba(255,255,255,0.8);
            padding: 4px 8px;
            border-radius: 4px;
            border: 1px solid #e0e0e0;
        }
        .audio-status.online { background: rgba(40,167,69,0.1); border-color: #28a745; color: #155724; }
        .audio-status.offline { background: rgba(220,53,69,0.1); border-color: #dc3545; color: #721c24; }
        .audio-status.loading { background: rgba(255,193,7,0.1); border-color: #ffc107; color: #856404; }
        
        .manual-audio-panel {
            margin: 15px 0;
            padding: 15px;
            background: linear-gradient(135deg, #e3f2fd, #f3e5f5);
            border: 1px solid #2196f3;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(33,150,243,0.15);
            display: none;
        }
        .manual-audio-panel.show {
            display: block;
            animation: slideIn 0.3s ease;
        }
        .audio-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin: 10px 0;
        }
        .audio-option {
            padding: 10px;
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            text-align: center;
            transition: all 0.2s ease;
            cursor: pointer;
        }
        .audio-option:hover {
            border-color: #007acc;
            box-shadow: 0 2px 8px rgba(0,122,204,0.15);
            transform: translateY(-1px);
        }
        .audio-option .option-icon {
            font-size: 20px;
            margin-bottom: 5px;
            display: block;
        }
        .audio-option .option-title {
            font-weight: 600;
            color: #343a40;
            margin-bottom: 3px;
        }
        .audio-option .option-desc {
            font-size: 10px;
            color: #6c757d;
        }
        .pronunciation-guide {
            margin: 15px 0;
            padding: 20px;
            background: linear-gradient(135deg, #fff3e0, #fce4ec);
            border-left: 5px solid #ff9800;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(255,152,0,0.15);
            display: none;
        }
        .pronunciation-guide.show {
            display: block;
            animation: slideIn 0.3s ease;
        }
        .guide-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        .guide-title {
            font-size: 16px;
            font-weight: 700;
            color: #e65100;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .close-btn {
            background: #f44336;
            color: white;
            border: none;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            cursor: pointer;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .guide-content {
            display: grid;
            gap: 10px;
        }
        .guide-item {
            background: white;
            padding: 12px;
            border-radius: 6px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .guide-item strong {
            color: #d84315;
        }
        .learning-tips {
            background: #fffbf0;
            border: 1px solid #ffcc02;
            border-radius: 6px;
            padding: 10px;
            font-size: 11px;
            color: #8a6914;
        }
        .tips-list {
            margin: 5px 0 0 15px;
            padding: 0;
        }
        .tips-list li {
            margin: 3px 0;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        @keyframes glow {
            0% { box-shadow: 0 2px 4px rgba(40,167,69,0.3); }
            100% { box-shadow: 0 4px 12px rgba(40,167,69,0.6); }
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .audio-test-panel {
            position: fixed;
            top: 15px;
            right: 15px;
            background: rgba(33,37,41,0.95);
            color: white;
            padding: 15px;
            border-radius: 10px;
            font-size: 12px;
            z-index: 1000;
            max-width: 320px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
            display: none;
        }
        .audio-test-panel.show {
            display: block;
            animation: slideIn 0.4s ease;
        }
        .test-panel-header {
            font-weight: 700;
            margin-bottom: 10px;
            color: #4fc3f7;
        }
        .test-panel-item {
            margin: 8px 0;
            padding: 6px 10px;
            background: rgba(255,255,255,0.1);
            border-radius: 4px;
            display: flex;
            justify-content: space-between;
        }
        .status-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 6px;
        }
        .status-indicator.online { background: #4caf50; }
        .status-indicator.offline { background: #f44336; }
        .status-indicator.loading { background: #ff9800; animation: pulse 1s infinite; }
    </style>
</head>
<body>
    <!-- éŸ³é¢‘æµ‹è¯•é¢æ¿ -->
    <div id="audioTestPanel" class="audio-test-panel">
        <div class="test-panel-header">ğŸ”Š éŸ³é¢‘ç³»ç»ŸçŠ¶æ€</div>
        <div class="test-panel-item">
            <span>æœ¬åœ°è¯­éŸ³:</span>
            <span id="localStatus"><span class="status-indicator loading"></span>æ£€æµ‹ä¸­</span>
        </div>
        <div class="test-panel-item">
            <span>åœ¨çº¿TTS:</span>
            <span id="onlineStatus"><span class="status-indicator loading"></span>æ£€æµ‹ä¸­</span>
        </div>
        <div class="test-panel-item">
            <span>æ¨èæ–¹æ¡ˆ:</span>
            <span id="recommendedMethod"><span class="status-indicator loading"></span>åˆ†æä¸­</span>
        </div>
    </div>

    <div class="container">
        <header>
            <h1>æ ‡å‡†æ—¥è¯­ åˆçº§ä¸Šå†Œv5</h1>
            <h2>ç¬¬ä¸€è¯¾ï¼šã¯ã˜ã‚ã¾ã—ã¦</h2>
            <h3>åˆæ¬¡è§é¢</h3>
        </header>

        <div class="lesson-navigation">
            <a href="index.html" class="nav-home" title="è¿”å›ç›®å½•"><i class="nav-icon">ğŸ </i><span>ç›®å½•</span></a>
            <a href="#" class="nav-prev" title="æ²¡æœ‰ä¸Šä¸€è¯¾" style="visibility: hidden;"><i class="nav-icon">â—€</i><span>ä¸Šä¸€è¯¾</span></a>
            <a href="lesson2.html" class="nav-next" title="ä¸‹ä¸€è¯¾ï¼šã“ã‚Œã¯æœ¬ã§ã™"><i class="nav-icon">â–¶</i><span>ä¸‹ä¸€è¯¾</span></a>
        </div>

        <section class="dialogue">
            <h3>ä¼šè©±ï¼ˆã‹ã„ã‚ï¼‰- å¯¹è¯</h3>
            <div class="dialogue-container">
                <div class="dialogue-scene">
                    <p class="scene-description">ï¼ˆæã•ã‚“ã¯æ£®ã•ã‚“ã®ç ”ç©¶å®¤ã‚’è¨ªã­ã¾ã™ï¼‰</p>
                    <p class="scene-description-cn">ï¼ˆå°ææ‹œè®¿æ£®è€å¸ˆçš„ç ”ç©¶å®¤ï¼‰</p>
                </div>
                
                <div class="dialogue-line">
                    <p class="speaker">æï¼š</p>
                    <div class="speech">
                        <p class="japanese speech-text">ã™ã¿ã¾ã›ã‚“ã€‚
                            <button class="audio-button" onclick="playJapanese('ã™ã¿ã¾ã›ã‚“')">ğŸ”Š</button>
                        </p>
                        <p class="kana">ã™ã¿ã¾ã›ã‚“ã€‚</p>
                        <p class="romaji">Sumimasen.</p>
                        <p class="chinese">æ‰“æ‰°äº†ã€‚</p>
                    </div>
                </div>

                <div class="dialogue-line">
                    <p class="speaker">æ£®ï¼š</p>
                    <div class="speech">
                        <p class="japanese speech-text">ã¯ã„ã€ã©ã†ãã€‚
                            <button class="audio-button" onclick="playJapanese('ã¯ã„ã€ã©ã†ã')">ğŸ”Š</button>
                        </p>
                        <p class="kana">ã¯ã„ã€ã©ã†ãã€‚</p>
                        <p class="romaji">Hai, douzo.</p>
                        <p class="chinese">è¯·è¿›ã€‚</p>
                    </div>
                </div>
                
                <div class="dialogue-line">
                    <p class="speaker">æï¼š</p>
                    <div class="speech">
                        <p class="japanese speech-text">ã¯ã˜ã‚ã¾ã—ã¦ã€‚ä¸­å›½ã‹ã‚‰æ¥ã¾ã—ãŸæã§ã™ã€‚ã©ã†ãã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™ã€‚
                            <button class="audio-button" onclick="playJapanese('ã¯ã˜ã‚ã¾ã—ã¦ã€‚ä¸­å›½ã‹ã‚‰æ¥ã¾ã—ãŸæã§ã™ã€‚ã©ã†ãã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™')">ğŸ”Š</button>
                        </p>
                        <p class="kana">ã¯ã˜ã‚ã¾ã—ã¦ã€‚ã¡ã‚…ã†ã”ãã‹ã‚‰ ãã¾ã—ãŸ ã‚Š ã§ã™ã€‚ã©ã†ãã‚ˆã‚ã—ã ãŠã­ãŒã„ã—ã¾ã™ã€‚</p>
                        <p class="romaji">Hajimemashite. ChÅ«goku kara kimashita Ri desu. Douzo yoroshiku onegaishimasu.</p>
                        <p class="chinese">åˆæ¬¡è§é¢ã€‚æˆ‘æ˜¯æ¥è‡ªä¸­å›½çš„å°æã€‚è¯·å¤šå¤šå…³ç…§ã€‚</p>
                    </div>
                </div>
                
                <div class="dialogue-line">
                    <p class="speaker">æ£®ï¼š</p>
                    <div class="speech">
                        <p class="japanese speech-text">ã¯ã˜ã‚ã¾ã—ã¦ã€‚æ£®ã§ã™ã€‚ã©ã†ãã‚ˆã‚ã—ãã€‚
                            <button class="audio-button" onclick="playJapanese('ã¯ã˜ã‚ã¾ã—ã¦ã€‚æ£®ã§ã™ã€‚ã©ã†ãã‚ˆã‚ã—ã')">ğŸ”Š</button>
                        </p>
                        <p class="kana">ã¯ã˜ã‚ã¾ã—ã¦ã€‚ã‚‚ã‚Š ã§ã™ã€‚ã©ã†ãã‚ˆã‚ã—ãã€‚</p>
                        <p class="romaji">Hajimemashite. Mori desu. Douzo yoroshiku.</p>
                        <p class="chinese">åˆæ¬¡è§é¢ã€‚æˆ‘æ˜¯æ£®ã€‚è¯·å¤šå…³ç…§ã€‚</p>
                    </div>
                </div>

                <div class="dialogue-line">
                    <p class="speaker">æï¼š</p>
                    <div class="speech">
                        <p class="japanese speech-text">æ—¥æœ¬èªã‚’å‹‰å¼·ã—ã¦ã„ã¾ã™ã€‚
                            <button class="audio-button" onclick="playJapanese('æ—¥æœ¬èªã‚’å‹‰å¼·ã—ã¦ã„ã¾ã™')">ğŸ”Š</button>
                        </p>
                        <p class="kana">ã«ã»ã‚“ã”ã‚’ ã¹ã‚“ãã‚‡ã†ã—ã¦ã„ã¾ã™ã€‚</p>
                        <p class="romaji">Nihongo o benkyÅ shite imasu.</p>
                        <p class="chinese">æˆ‘æ­£åœ¨å­¦ä¹ æ—¥è¯­ã€‚</p>
                    </div>
                </div>

                <div class="dialogue-line">
                    <p class="speaker">æ£®ï¼š</p>
                    <div class="speech">
                        <p class="japanese speech-text">ãã†ã§ã™ã‹ã€‚é ‘å¼µã£ã¦ãã ã•ã„ã€‚
                            <button class="audio-button" onclick="playJapanese('ãã†ã§ã™ã‹ã€‚é ‘å¼µã£ã¦ãã ã•ã„')">ğŸ”Š</button>
                        </p>
                        <p class="kana">ãã†ã§ã™ã‹ã€‚ãŒã‚“ã°ã£ã¦ãã ã•ã„ã€‚</p>
                        <p class="romaji">SÅ desu ka. Ganbatte kudasai.</p>
                        <p class="chinese">æ˜¯å—ï¼Ÿè¯·åŠ æ²¹ã€‚</p>
                    </div>
                </div>

                <div class="dialogue-line">
                    <p class="speaker">æï¼š</p>
                    <div class="speech">
                        <p class="japanese speech-text">ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚
                            <button class="audio-button" onclick="playJapanese('ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™')">ğŸ”Š</button>
                        </p>
                        <p class="kana">ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚</p>
                        <p class="romaji">Arigatou gozaimasu.</p>
                        <p class="chinese">è°¢è°¢æ‚¨ã€‚</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="vocabulary">
            <h3>å˜èªï¼ˆãŸã‚“ã”ï¼‰- å•è¯</h3>
            
            <!-- éŸ³é¢‘æ§åˆ¶é¢æ¿ -->
            <div class="speech-controls">
                <div class="control-group">
                    <label>ğŸ”Š éŸ³é¢‘:</label>
                    <span id="currentAudioStatus" class="audio-status loading">åˆå§‹åŒ–ä¸­...</span>
                </div>
                <div class="control-group">
                    <label>è¯­é€Ÿ:</label>
                    <select id="speechRate">
                        <option value="0.6">å¾ˆæ…¢</option>
                        <option value="0.8" selected>æ­£å¸¸</option>
                        <option value="1.0">å¿«é€Ÿ</option>
                    </select>
                </div>
                <div class="control-group">
                    <label>æ’­æ”¾æ–¹å¼:</label>
                    <select id="audioMethod">
                        <option value="auto">æ™ºèƒ½é€‰æ‹©</option>
                        <option value="local">æœ¬åœ°è¯­éŸ³</option>
                        <option value="online">åœ¨çº¿è¯­éŸ³</option>
                        <option value="manual">æ‰‹åŠ¨æ’­æ”¾</option>
                        <option value="guide">å‘éŸ³æŒ‡å¯¼</option>
                    </select>
                </div>
                <div class="control-group">
                    <button onclick="testAudioSystem()">ğŸ§ª æµ‹è¯•éŸ³é¢‘</button>
                    <button onclick="showAudioHelp()">â“ å¸®åŠ©</button>
                </div>
            </div>

            <!-- æ‰‹åŠ¨éŸ³é¢‘é¢æ¿ -->
            <div id="manualAudioPanel" class="manual-audio-panel">
                <h4 style="margin: 0 0 10px 0; color: #1976d2;">ğŸµ è¯·é€‰æ‹©æ’­æ”¾æ–¹å¼</h4>
                <div class="audio-options">
                    <div class="audio-option" onclick="openGoogleTranslate()">
                        <span class="option-icon">ğŸŒ</span>
                        <div class="option-title">Googleç¿»è¯‘</div>
                        <div class="option-desc">æœ€å‡†ç¡®çš„æ—¥è¯­å‘éŸ³</div>
                    </div>
                    <div class="audio-option" onclick="openBingTranslator()">
                        <span class="option-icon">ğŸ”Š</span>
                        <div class="option-title">å¿…åº”ç¿»è¯‘</div>
                        <div class="option-desc">å¾®è½¯è¯­éŸ³å¼•æ“</div>
                    </div>
                    <div class="audio-option" onclick="openYoudaoTranslate()">
                        <span class="option-icon">ğŸ“±</span>
                        <div class="option-title">æœ‰é“ç¿»è¯‘</div>
                        <div class="option-desc">å›½å†…ç¨³å®šè®¿é—®</div>
                    </div>
                    <div class="audio-option" onclick="showPronunciationGuide()">
                        <span class="option-icon">ğŸ“–</span>
                        <div class="option-title">å‘éŸ³æŒ‡å¯¼</div>
                        <div class="option-desc">æ–‡å­—å‘éŸ³è¯´æ˜</div>
                    </div>
                </div>
                <div style="text-align: center; margin-top: 10px;">
                    <button onclick="hideManualPanel()" style="background: #6c757d; color: white; border: none; padding: 5px 15px; border-radius: 4px; cursor: pointer;">å…³é—­é¢æ¿</button>
                </div>
            </div>

            <!-- å‘éŸ³æŒ‡å¯¼é¢æ¿ -->
            <div id="pronunciationPanel" class="pronunciation-guide">
                <div class="guide-header">
                    <div class="guide-title">
                        <span>ğŸŒ</span>
                        <span>æ—¥è¯­å‘éŸ³æŒ‡å¯¼</span>
                    </div>
                    <button class="close-btn" onclick="hidePronunciationGuide()">âœ•</button>
                </div>
                <div class="guide-content" id="guideContent">
                    <!-- åŠ¨æ€å†…å®¹ -->
                </div>
            </div>

            <table>
                <thead>
                    <tr>
                        <th>æ—¥è¯­</th>
                        <th>å‡å</th>
                        <th>ç½—é©¬éŸ³</th>
                        <th>ä¸­æ–‡</th>
                        <th>å‘éŸ³</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><span class="word-text">ã¯ã˜ã‚ã¾ã—ã¦</span></td>
                        <td>ã¯ã˜ã‚ã¾ã—ã¦</td>
                        <td>hajimemashite</td>
                        <td>åˆæ¬¡è§é¢</td>
                        <td><button class="audio-button" data-text="ã¯ã˜ã‚ã¾ã—ã¦">ğŸ”Š</button></td>
                    </tr>
                    <tr>
                        <td><span class="word-text">ã™ã¿ã¾ã›ã‚“</span></td>
                        <td>ã™ã¿ã¾ã›ã‚“</td>
                        <td>sumimasen</td>
                        <td>æ‰“æ‰°äº†ã€å¯¹ä¸èµ·</td>
                        <td><button class="audio-button" data-text="ã™ã¿ã¾ã›ã‚“">ğŸ”Š</button></td>
                    </tr>
                    <tr>
                        <td><span class="word-text">ã¯ã„</span></td>
                        <td>ã¯ã„</td>
                        <td>hai</td>
                        <td>æ˜¯ã€å¥½çš„</td>
                        <td><button class="audio-button" data-text="ã¯ã„">ğŸ”Š</button></td>
                    </tr>
                    <tr>
                        <td><span class="word-text">ã©ã†ã</span></td>
                        <td>ã©ã†ã</td>
                        <td>douzo</td>
                        <td>è¯·</td>
                        <td><button class="audio-button" data-text="ã©ã†ã">ğŸ”Š</button></td>
                    </tr>
                    <tr>
                        <td><span class="word-text">ä¸­å›½</span></td>
                        <td>ã¡ã‚…ã†ã”ã</td>
                        <td>chÅ«goku</td>
                        <td>ä¸­å›½</td>
                        <td><button class="audio-button" data-text="ä¸­å›½">ğŸ”Š</button></td>
                    </tr>
                    <tr>
                        <td><span class="word-text">ã‹ã‚‰</span></td>
                        <td>ã‹ã‚‰</td>
                        <td>kara</td>
                        <td>ä»...ï¼ˆåŠ©è¯ï¼‰</td>
                        <td><button class="audio-button" data-text="ã‹ã‚‰">ğŸ”Š</button></td>
                    </tr>
                    <tr>
                        <td><span class="word-text">æ¥ã¾ã—ãŸ</span></td>
                        <td>ãã¾ã—ãŸ</td>
                        <td>kimashita</td>
                        <td>æ¥äº†ï¼ˆåŠ¨è¯"æ¥"çš„è¿‡å»å¼ï¼‰</td>
                        <td><button class="audio-button" data-text="æ¥ã¾ã—ãŸ">ğŸ”Š</button></td>
                    </tr>
                    <tr>
                        <td><span class="word-text">ã§ã™</span></td>
                        <td>ã§ã™</td>
                        <td>desu</td>
                        <td>æ˜¯ï¼ˆåŠ©åŠ¨è¯ï¼‰</td>
                        <td><button class="audio-button" data-text="ã§ã™">ğŸ”Š</button></td>
                    </tr>
                    <tr>
                        <td><span class="word-text">ã‚ˆã‚ã—ã</span></td>
                        <td>ã‚ˆã‚ã—ã</td>
                        <td>yoroshiku</td>
                        <td>è¯·å¤šå…³ç…§</td>
                        <td><button class="audio-button" data-text="ã‚ˆã‚ã—ã">ğŸ”Š</button></td>
                    </tr>
                    <tr>
                        <td><span class="word-text">ãŠé¡˜ã„ã—ã¾ã™</span></td>
                        <td>ãŠã­ãŒã„ã—ã¾ã™</td>
                        <td>onegaishimasu</td>
                        <td>æ‹œæ‰˜äº†</td>
                        <td><button class="audio-button" data-text="ãŠé¡˜ã„ã—ã¾ã™">ğŸ”Š</button></td>
                    </tr>
                    <tr>
                        <td><span class="word-text">æ—¥æœ¬èª</span></td>
                        <td>ã«ã»ã‚“ã”</td>
                        <td>nihongo</td>
                        <td>æ—¥è¯­</td>
                        <td><button class="audio-button" data-text="æ—¥æœ¬èª">ğŸ”Š</button></td>
                    </tr>
                    <tr>
                        <td><span class="word-text">ã‚’</span></td>
                        <td>ã‚’</td>
                        <td>o</td>
                        <td>ï¼ˆåŠ©è¯ï¼Œè¡¨ç¤ºåŠ¨ä½œçš„å¯¹è±¡ï¼‰</td>
                        <td><button class="audio-button" data-text="ã‚’">ğŸ”Š</button></td>
                    </tr>
                    <tr>
                        <td><span class="word-text">å‹‰å¼·ã—ã¦ã„ã¾ã™</span></td>
                        <td>ã¹ã‚“ãã‚‡ã†ã—ã¦ã„ã¾ã™</td>
                        <td>benkyÅ shite imasu</td>
                        <td>æ­£åœ¨å­¦ä¹ </td>
                        <td><button class="audio-button" data-text="å‹‰å¼·ã—ã¦ã„ã¾ã™">ğŸ”Š</button></td>
                    </tr>
                    <tr>
                        <td><span class="word-text">ãã†ã§ã™ã‹</span></td>
                        <td>ãã†ã§ã™ã‹</td>
                        <td>sÅ desu ka</td>
                        <td>æ˜¯å—ï¼Ÿ</td>
                        <td><button class="audio-button" data-text="ãã†ã§ã™ã‹">ğŸ”Š</button></td>
                    </tr>
                    <tr>
                        <td><span class="word-text">é ‘å¼µã£ã¦ãã ã•ã„</span></td>
                        <td>ãŒã‚“ã°ã£ã¦ãã ã•ã„</td>
                        <td>ganbatte kudasai</td>
                        <td>è¯·åŠ æ²¹</td>
                        <td><button class="audio-button" data-text="é ‘å¼µã£ã¦ãã ã•ã„">ğŸ”Š</button></td>
                    </tr>
                    <tr>
                        <td><span class="word-text">ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™</span></td>
                        <td>ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™</td>
                        <td>arigatou gozaimasu</td>
                        <td>è°¢è°¢</td>
                        <td><button class="audio-button" data-text="ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™">ğŸ”Š</button></td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section class="grammar-points">
            <h3>æ–‡æ³•ï¼ˆã¶ã‚“ã½ã†ï¼‰- è¯­æ³•</h3>
            <div class="grammar-point">
                <h4>1. ã€ŒAã¯Bã§ã™ã€å¥å‹</h4>
                <p>è¡¨ç¤º"Aæ˜¯B"çš„æ„æ€ï¼Œæ˜¯æœ€åŸºæœ¬çš„åˆ¤æ–­å¥å‹ã€‚</p>
                <div class="example">
                    <p class="japanese speech-text">ç§ã¯æã§ã™ã€‚
                        <button class="audio-button" onclick="playJapanese('ç§ã¯æã§ã™')">ğŸ”Š</button>
                    </p>
                    <p class="kana">ã‚ãŸã—ã¯ ã‚Š ã§ã™ã€‚</p>
                    <p class="romaji">Watashi wa Ri desu.</p>
                    <p class="chinese">æˆ‘æ˜¯æã€‚</p>
                </div>
                <div class="example">
                    <p class="japanese speech-text">ã“ã‚Œã¯æœ¬ã§ã™ã€‚
                        <button class="audio-button" onclick="playJapanese('ã“ã‚Œã¯æœ¬ã§ã™')">ğŸ”Š</button>
                    </p>
                    <p class="kana">ã“ã‚Œã¯ ã»ã‚“ ã§ã™ã€‚</p>
                    <p class="romaji">Kore wa hon desu.</p>
                    <p class="chinese">è¿™æ˜¯ä¹¦ã€‚</p>
                </div>
            </div>

            <div class="grammar-point">
                <h4>2. ã€Œã©ã†ãã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™ã€è¡¨è¾¾</h4>
                <p>æ˜¯ä¸€ç§åœ¨åˆæ¬¡è§é¢æ—¶è¡¨è¾¾"è¯·å¤šå…³ç…§"çš„ç¤¼è²Œç”¨è¯­ã€‚</p>
                <div class="example">
                    <p class="japanese speech-text">ã©ã†ãã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™ã€‚
                        <button class="audio-button" onclick="playJapanese('ã©ã†ãã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™')">ğŸ”Š</button>
                    </p>
                    <p class="kana">ã©ã†ãã‚ˆã‚ã—ã ãŠã­ãŒã„ã—ã¾ã™ã€‚</p>
                    <p class="romaji">Douzo yoroshiku onegaishimasu.</p>
                    <p class="chinese">è¯·å¤šå¤šå…³ç…§ã€‚</p>
                </div>
                <div class="note">
                    <p>ä¹Ÿå¯ä»¥ç®€åŒ–ä¸ºã€Œã©ã†ãã‚ˆã‚ã—ãã€ï¼Œç¨å¾®ä¸é‚£ä¹ˆæ­£å¼ã€‚</p>
                </div>
            </div>

            <div class="grammar-point">
                <h4>3. ã€Œï½ã‹ã‚‰æ¥ã¾ã—ãŸã€å¥å‹</h4>
                <p>è¡¨ç¤º"ä»...æ¥"ï¼Œè¯´æ˜å‡ºå‘ç‚¹æˆ–æ¥æºã€‚</p>
                <div class="example">
                    <p class="japanese speech-text">ä¸­å›½ã‹ã‚‰æ¥ã¾ã—ãŸã€‚</p>
                    <p class="kana">ã¡ã‚…ã†ã”ãã‹ã‚‰ ãã¾ã—ãŸã€‚</p>
                    <p class="romaji">ChÅ«goku kara kimashita.</p>
                    <p class="chinese">æˆ‘æ¥è‡ªä¸­å›½ã€‚</p>
                </div>
                <div class="example">
                    <p class="japanese speech-text">æ±äº¬ã‹ã‚‰æ¥ã¾ã—ãŸã€‚</p>
                    <p class="kana">ã¨ã†ãã‚‡ã†ã‹ã‚‰ ãã¾ã—ãŸã€‚</p>
                    <p class="romaji">TÅkyÅ kara kimashita.</p>
                    <p class="chinese">æˆ‘æ¥è‡ªä¸œäº¬ã€‚</p>
                </div>
            </div>

            <div class="grammar-point">
                <h4>4. ã€Œï½ã‚’å‹‰å¼·ã—ã¦ã„ã¾ã™ã€å¥å‹</h4>
                <p>è¡¨ç¤º"æ­£åœ¨å­¦ä¹ ...", ä½¿ç”¨è¿›è¡Œæ—¶æ€ã€‚</p>
                <div class="example">
                    <p class="japanese speech-text">æ—¥æœ¬èªã‚’å‹‰å¼·ã—ã¦ã„ã¾ã™ã€‚</p>
                    <p class="kana">ã«ã»ã‚“ã”ã‚’ ã¹ã‚“ãã‚‡ã†ã—ã¦ã„ã¾ã™ã€‚</p>
                    <p class="romaji">Nihongo o benkyÅ shite imasu.</p>
                    <p class="chinese">æˆ‘æ­£åœ¨å­¦ä¹ æ—¥è¯­ã€‚</p>
                </div>
                <div class="example">
                    <p class="japanese speech-text">æ­´å²ã‚’å‹‰å¼·ã—ã¦ã„ã¾ã™ã€‚</p>
                    <p class="kana">ã‚Œãã—ã‚’ ã¹ã‚“ãã‚‡ã†ã—ã¦ã„ã¾ã™ã€‚</p>
                    <p class="romaji">Rekishi o benkyÅ shite imasu.</p>
                    <p class="chinese">æˆ‘æ­£åœ¨å­¦ä¹ å†å²ã€‚</p>
                </div>
            </div>
        </section>

        <section class="example-sentences">
            <h3>å¿œç”¨ä¾‹æ–‡ï¼ˆãŠã†ã‚ˆã†ã‚Œã„ã¶ã‚“ï¼‰- åº”ç”¨ä¾‹å¥</h3>
            <div class="example">
                <p class="japanese speech-text">ç§ã¯ç‹ã§ã™ã€‚ä¸­å›½ã‹ã‚‰æ¥ã¾ã—ãŸã€‚</p>
                <p class="kana">ã‚ãŸã—ã¯ ãŠã† ã§ã™ã€‚ã¡ã‚…ã†ã”ãã‹ã‚‰ ãã¾ã—ãŸã€‚</p>
                <p class="romaji">Watashi wa Wang desu. ChÅ«goku kara kimashita.</p>
                <p class="chinese">æˆ‘æ˜¯ç‹ã€‚æˆ‘æ¥è‡ªä¸­å›½ã€‚</p>
            </div>
            <div class="example">
                <p class="japanese speech-text">ç”°ä¸­ã•ã‚“ã¯å­¦ç”Ÿã§ã™ã€‚</p>
                <p class="kana">ãŸãªã‹ã•ã‚“ã¯ ãŒãã›ã„ ã§ã™ã€‚</p>
                <p class="romaji">Tanaka-san wa gakusei desu.</p>
                <p class="chinese">ç”°ä¸­å…ˆç”Ÿæ˜¯å­¦ç”Ÿã€‚</p>
            </div>
            <div class="example">
                <p class="japanese speech-text">ã‚ãªãŸã¯æ—¥æœ¬äººã§ã™ã‹ã€‚</p>
                <p class="kana">ã‚ãªãŸã¯ ã«ã»ã‚“ã˜ã‚“ ã§ã™ã‹ã€‚</p>
                <p class="romaji">Anata wa nihonjin desu ka.</p>
                <p class="chinese">ä½ æ˜¯æ—¥æœ¬äººå—ï¼Ÿ</p>
            </div>
            <div class="example">
                <p class="japanese speech-text">ã¯ã„ã€ç§ã¯æ—¥æœ¬äººã§ã™ã€‚</p>
                <p class="kana">ã¯ã„ã€ã‚ãŸã—ã¯ ã«ã»ã‚“ã˜ã‚“ ã§ã™ã€‚</p>
                <p class="romaji">Hai, watashi wa nihonjin desu.</p>
                <p class="chinese">æ˜¯çš„ï¼Œæˆ‘æ˜¯æ—¥æœ¬äººã€‚</p>
            </div>
        </section>

        <section class="exam-practice">
            <h3>æ—¥è¯­èƒ½åŠ›æµ‹è¯• N5 çœŸé¢˜ç»ƒä¹ </h3>
            <p class="section-intro">ä»¥ä¸‹æ˜¯ä¸ç¬¬ä¸€è¯¾ç›¸å…³çš„N5æ°´å¹³è€ƒè¯•çœŸé¢˜ï¼Œç»ƒä¹ åå¯ä»¥ç‚¹å‡»æŸ¥çœ‹ç­”æ¡ˆã€‚</p>
            
            <div class="exam-section vocabulary-test">
                <h4>å•è¯éƒ¨åˆ†</h4>
                
                <div class="question">
                    <p class="question-number">1.</p>
                    <p class="question-text">ã€Œã¯ã˜ã‚ã¾ã—ã¦ã€ã®æ„å‘³ã¯ä½•ã§ã™ã‹ã€‚</p>
                    <div class="options">
                        <p>A. ä½ å¥½</p>
                        <p>B. åˆæ¬¡è§é¢</p>
                        <p>C. è°¢è°¢</p>
                        <p>D. å†è§</p>
                    </div>
                    <button class="toggle-answer">æ˜¾ç¤ºç­”æ¡ˆ</button>
                    <div class="answer-section">
                        <p class="answer">æ­£ç¡®ç­”æ¡ˆï¼šB. åˆæ¬¡è§é¢</p>
                        <p class="explanation">ã€Œã¯ã˜ã‚ã¾ã—ã¦ã€æ˜¯åœ¨ç¬¬ä¸€æ¬¡è§é¢æ—¶ä½¿ç”¨çš„é—®å€™è¯­ï¼Œç›¸å½“äºæ±‰è¯­ä¸­çš„"åˆæ¬¡è§é¢"ã€‚</p>
                    </div>
                </div>
                
                <div class="question">
                    <p class="question-number">2.</p>
                    <p class="question-text">æ¬¡ã®è¨€è‘‰ã®èª­ã¿æ–¹ã¨ã—ã¦æ­£ã—ã„ã‚‚ã®ã¯ã©ã‚Œã§ã™ã‹ã€‚ã€Œæ—¥æœ¬èªã€</p>
                    <div class="options">
                        <p>A. ã«ã£ã½ã‚“ã”</p>
                        <p>B. ã«ã»ã‚“ã”ã”</p>
                        <p>C. ã«ã»ã‚“ã”</p>
                        <p>D. ã«ã£ã½ã‚“ã”ã”</p>
                    </div>
                    <button class="toggle-answer">æ˜¾ç¤ºç­”æ¡ˆ</button>
                    <div class="answer-section">
                        <p class="answer">æ­£ç¡®ç­”æ¡ˆï¼šC. ã«ã»ã‚“ã”</p>
                        <p class="explanation">ã€Œæ—¥æœ¬èªã€çš„æ­£ç¡®è¯»æ³•æ˜¯ã€Œã«ã»ã‚“ã”ã€(nihongo)ï¼Œè¡¨ç¤º"æ—¥è¯­"ã€‚</p>
                    </div>
                </div>
            </div>
            
            <div class="exam-section grammar-test">
                <h4>è¯­æ³•éƒ¨åˆ†</h4>
                
                <div class="question">
                    <p class="question-number">3.</p>
                    <p class="question-text">ã‚ãŸã—ï¼ˆã€€ã€€ï¼‰å­¦ç”Ÿã§ã™ã€‚</p>
                    <div class="options">
                        <p>A. ã‚’</p>
                        <p>B. ã¯</p>
                        <p>C. ãŒ</p>
                        <p>D. ã«</p>
                    </div>
                    <button class="toggle-answer">æ˜¾ç¤ºç­”æ¡ˆ</button>
                    <div class="answer-section">
                        <p class="answer">æ­£ç¡®ç­”æ¡ˆï¼šB. ã¯</p>
                        <p class="explanation">ã€ŒAã¯Bã§ã™ã€æ˜¯è¡¨ç¤º"Aæ˜¯B"çš„åŸºæœ¬å¥å‹ï¼Œå…¶ä¸­ã€Œã¯ã€æ˜¯æç¤ºä¸»é¢˜çš„åŠ©è¯ã€‚</p>
                    </div>
                </div>
                
                <div class="question">
                    <p class="question-number">4.</p>
                    <p class="question-text">æã•ã‚“ã¯ä¸­å›½ï¼ˆã€€ã€€ï¼‰æ¥ã¾ã—ãŸã€‚</p>
                    <div class="options">
                        <p>A. ã‚’</p>
                        <p>B. ã¯</p>
                        <p>C. ã‹ã‚‰</p>
                        <p>D. ã«</p>
                    </div>
                    <button class="toggle-answer">æ˜¾ç¤ºç­”æ¡ˆ</button>
                    <div class="answer-section">
                        <p class="answer">æ­£ç¡®ç­”æ¡ˆï¼šC. ã‹ã‚‰</p>
                        <p class="explanation">ã€Œã‹ã‚‰ã€è¡¨ç¤ºå‡ºå‘ç‚¹æˆ–æ¥æºï¼Œåœ¨æ­¤å¥ä¸­è¡¨ç¤º"ä»ä¸­å›½æ¥"ã€‚</p>
                    </div>
                </div>
            </div>
            
            <div class="exam-section reading-test">
                <h4>é˜…è¯»ç†è§£éƒ¨åˆ†</h4>
                
                <div class="reading-passage">
                    <p>ç”°ä¸­ï¼šã¯ã˜ã‚ã¾ã—ã¦ã€‚ç”°ä¸­ã§ã™ã€‚</p>
                    <p>ç‹ï¼šã¯ã˜ã‚ã¾ã—ã¦ã€‚ç‹ã§ã™ã€‚ä¸­å›½ã‹ã‚‰æ¥ã¾ã—ãŸã€‚</p>
                    <p>ç”°ä¸­ï¼šç‹ã•ã‚“ã¯å­¦ç”Ÿã§ã™ã‹ã€‚</p>
                    <p>ç‹ï¼šã¯ã„ã€ãã†ã§ã™ã€‚æ—¥æœ¬èªã‚’å‹‰å¼·ã—ã¦ã„ã¾ã™ã€‚</p>
                    <p>ç”°ä¸­ï¼šãã†ã§ã™ã‹ã€‚ç§ã‚‚ä¸­å›½èªã‚’å‹‰å¼·ã—ã¦ã„ã¾ã™ã€‚ã©ã†ãã‚ˆã‚ã—ãã€‚</p>
                    <p>ç‹ï¼šã“ã¡ã‚‰ã“ãã€ã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™ã€‚</p>
                </div>
                
                <div class="question">
                    <p class="question-number">5.</p>
                    <p class="question-text">ç‹ã•ã‚“ã¯ã©ã“ã‹ã‚‰æ¥ã¾ã—ãŸã‹ã€‚</p>
                    <div class="options">
                        <p>A. æ—¥æœ¬</p>
                        <p>B. ã‚¢ãƒ¡ãƒªã‚«</p>
                        <p>C. ä¸­å›½</p>
                        <p>D. éŸ“å›½</p>
                    </div>
                    <button class="toggle-answer">æ˜¾ç¤ºç­”æ¡ˆ</button>
                    <div class="answer-section">
                        <p class="answer">æ­£ç¡®ç­”æ¡ˆï¼šC. ä¸­å›½</p>
                        <p class="explanation">å¯¹è¯ä¸­ç‹è¯´ã€Œä¸­å›½ã‹ã‚‰æ¥ã¾ã—ãŸã€ï¼Œè¡¨æ˜ä»–æ¥è‡ªä¸­å›½ã€‚</p>
                    </div>
                </div>
                
                <div class="question">
                    <p class="question-number">6.</p>
                    <p class="question-text">ç”°ä¸­ã•ã‚“ã¯ä½•ã‚’å‹‰å¼·ã—ã¦ã„ã¾ã™ã‹ã€‚</p>
                    <div class="options">
                        <p>A. è‹±èª</p>
                        <p>B. ä¸­å›½èª</p>
                        <p>C. æ—¥æœ¬èª</p>
                        <p>D. éŸ“å›½èª</p>
                    </div>
                    <button class="toggle-answer">æ˜¾ç¤ºç­”æ¡ˆ</button>
                    <div class="answer-section">
                        <p class="answer">æ­£ç¡®ç­”æ¡ˆï¼šB. ä¸­å›½èª</p>
                        <p class="explanation">å¯¹è¯ä¸­ç”°ä¸­è¯´ã€Œç§ã‚‚ä¸­å›½èªã‚’å‹‰å¼·ã—ã¦ã„ã¾ã™ã€ï¼Œè¡¨æ˜ä»–åœ¨å­¦ä¹ ä¸­æ–‡ã€‚</p>
                    </div>
                </div>
                
                <div class="question">
                    <p class="question-number">7.</p>
                    <p class="question-text">ç‹ã•ã‚“ã¯ä½•ã‚’ã—ã¦ã„ã¾ã™ã‹ã€‚</p>
                    <div class="options">
                        <p>A. å…ˆç”Ÿã§ã™</p>
                        <p>B. ä¼šç¤¾å“¡ã§ã™</p>
                        <p>C. å­¦ç”Ÿã§ã™</p>
                        <p>D. åŒ»è€…ã§ã™</p>
                    </div>
                    <button class="toggle-answer">æ˜¾ç¤ºç­”æ¡ˆ</button>
                    <div class="answer-section">
                        <p class="answer">æ­£ç¡®ç­”æ¡ˆï¼šC. å­¦ç”Ÿã§ã™</p>
                        <p class="explanation">å¯¹è¯ä¸­ç”°ä¸­é—®ã€Œç‹ã•ã‚“ã¯å­¦ç”Ÿã§ã™ã‹ã€ï¼Œç‹å›ç­”ã€Œã¯ã„ã€ãã†ã§ã™ã€ï¼Œç¡®è®¤ä»–æ˜¯å­¦ç”Ÿã€‚</p>
                    </div>
                </div>
            </div>
            
            <div class="exam-section listening-test">
                <h4>å¬åŠ›éƒ¨åˆ†</h4>
                <p class="section-note">ä»¥ä¸‹æ˜¯å¬åŠ›æµ‹è¯•ç›¸å…³é¢˜ç›®ï¼Œåœ¨å®é™…è€ƒè¯•ä¸­ä¼šå¬å½•éŸ³å›ç­”ã€‚æ­¤å¤„å¯ä»¥ç‚¹å‡»æ–‡æœ¬æ’­æ”¾éŸ³é¢‘ã€‚</p>
                
                <div class="question">
                    <p class="question-number">8.</p>
                    <p class="listening-script speech-text">ã¯ã˜ã‚ã¾ã—ã¦ã€‚ç§ã¯å±±ç”°ã§ã™ã€‚ä¸­å›½èªã‚’å‹‰å¼·ã—ã¦ã„ã¾ã™ã€‚ã©ã†ãã‚ˆã‚ã—ãã€‚</p>
                    <p class="question-text">ã“ã®äººã¯ä½•ã‚’å‹‰å¼·ã—ã¦ã„ã¾ã™ã‹ã€‚</p>
                    <div class="options">
                        <p>A. è‹±èª</p>
                        <p>B. ä¸­å›½èª</p>
                        <p>C. æ—¥æœ¬èª</p>
                        <p>D. éŸ“å›½èª</p>
                    </div>
                    <button class="toggle-answer">æ˜¾ç¤ºç­”æ¡ˆ</button>
                    <div class="answer-section">
                        <p class="answer">æ­£ç¡®ç­”æ¡ˆï¼šB. ä¸­å›½èª</p>
                        <p class="explanation">å¬åŠ›å†…å®¹ä¸­è¯´ã€Œä¸­å›½èªã‚’å‹‰å¼·ã—ã¦ã„ã¾ã™ã€ï¼Œè¡¨ç¤º"æˆ‘åœ¨å­¦ä¹ ä¸­æ–‡"ã€‚</p>
                    </div>
                </div>
                
                <div class="question">
                    <p class="question-number">9.</p>
                    <p class="listening-script speech-text">ã™ã¿ã¾ã›ã‚“ã€ã‚ãªãŸã¯æã•ã‚“ã§ã™ã‹ã€‚</p>
                    <p class="question-text">ã“ã®äººã¯ä½•ã¨è¨€ã£ã¦ã„ã¾ã™ã‹ã€‚</p>
                    <div class="options">
                        <p>A. è¯¢é—®å¯¹æ–¹æ˜¯å¦æ˜¯æå…ˆç”Ÿ</p>
                        <p>B. å‘å¯¹æ–¹ä»‹ç»è‡ªå·±æ˜¯æå…ˆç”Ÿ</p>
                        <p>C. å‘æå…ˆç”Ÿé“æ­‰</p>
                        <p>D. è¯·æå…ˆç”Ÿå¸®å¿™</p>
                    </div>
                    <button class="toggle-answer">æ˜¾ç¤ºç­”æ¡ˆ</button>
                    <div class="answer-section">
                        <p class="answer">æ­£ç¡®ç­”æ¡ˆï¼šA. è¯¢é—®å¯¹æ–¹æ˜¯å¦æ˜¯æå…ˆç”Ÿ</p>
                        <p class="explanation">ã€Œã™ã¿ã¾ã›ã‚“ã€ã‚ãªãŸã¯æã•ã‚“ã§ã™ã‹ã€è¡¨ç¤º"æ‰“æ‰°äº†ï¼Œè¯·é—®ä½ æ˜¯æå…ˆç”Ÿå—ï¼Ÿ"ï¼Œæ˜¯åœ¨è¯¢é—®å¯¹æ–¹çš„èº«ä»½ã€‚</p>
                    </div>
                </div>
                
                <div class="question">
                    <p class="question-number">10.</p>
                    <p class="listening-script speech-text">ç§ã¯æ£®ã§ã™ã€‚æ—¥æœ¬ã‹ã‚‰æ¥ã¾ã—ãŸã€‚ã©ã†ãã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™ã€‚</p>
                    <p class="question-text">æ£®ã•ã‚“ã¯ã©ã“ã‹ã‚‰æ¥ã¾ã—ãŸã‹ã€‚</p>
                    <div class="options">
                        <p>A. ä¸­å›½</p>
                        <p>B. æ—¥æœ¬</p>
                        <p>C. ã‚¢ãƒ¡ãƒªã‚«</p>
                        <p>D. éŸ“å›½</p>
                    </div>
                    <button class="toggle-answer">æ˜¾ç¤ºç­”æ¡ˆ</button>
                    <div class="answer-section">
                        <p class="answer">æ­£ç¡®ç­”æ¡ˆï¼šB. æ—¥æœ¬</p>
                        <p class="explanation">å¬åŠ›å†…å®¹ä¸­è¯´ã€Œæ—¥æœ¬ã‹ã‚‰æ¥ã¾ã—ãŸã€ï¼Œè¡¨ç¤º"æˆ‘æ¥è‡ªæ—¥æœ¬"ã€‚</p>
                    </div>
                </div>
            </div>
        </section>

        <div class="lesson-pagination">
            <div class="pagination-controls">
                <a href="index.html" class="pagination-home">ç›®å½•</a>
                <span class="pagination-prev" style="visibility: hidden;">Â« ä¸Šä¸€è¯¾</span>
                <span class="pagination-current">ç¬¬ä¸€è¯¾</span>
                <a href="lesson2.html" class="pagination-next">ç¬¬äºŒè¯¾ Â»</a>
            </div>
        </div>
    </div>
    
    <script src="script.js"></script>
    <script>
        // ğŸµ ä¸“ä¸šçº§éŸ³é¢‘ç³»ç»Ÿ V5.0
        class JapaneseAudioSystem {
            constructor() {
                this.config = {
                    speechSupported: false,
                    japaneseVoice: null,
                    currentMethod: 'auto',
                    isInitialized: false,
                    debugMode: false
                };
                
                this.pronunciationData = {
                    'ã™ã¿ã¾ã›ã‚“': {
                        romaji: 'su-mi-ma-sen',
                        phonetic: 'è‹Â·å’ªÂ·å˜›Â·æ£®',
                        tips: 'æ³¨æ„"ã¾"è¯»ä½œ"å˜›"ï¼Œä¸æ˜¯"é©¬"',
                        difficulty: 1
                    },
                    'ã¯ã˜ã‚ã¾ã—ã¦': {
                        romaji: 'ha-ji-me-ma-shi-te', 
                        phonetic: 'å“ˆÂ·åŸºÂ·ç¾Â·å˜›Â·å¸ŒÂ·å¸–',
                        tips: '"ã˜"è¯»ä½œ"åŸº"ï¼Œ"ã¦"è¯»ä½œ"å¸–"',
                        difficulty: 2
                    },
                    'ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™': {
                        romaji: 'a-ri-ga-to-u go-za-i-ma-su',
                        phonetic: 'é˜¿Â·é‡ŒÂ·å˜Â·å¤šÂ·ä¹Œ å¤ŸÂ·æ‰Â·ä¼ŠÂ·å˜›Â·è‹',
                        tips: 'æ³¨æ„"ã¨"å’Œ"ã”"çš„åŒºåˆ«ï¼Œ"ã†"è¦æ‹–é•¿éŸ³',
                        difficulty: 3
                    },
                    'ã¯ã„': {
                        romaji: 'hai',
                        phonetic: 'å“ˆä¼Š',
                        tips: 'ä¸€ä¸ªéŸ³èŠ‚ï¼Œç±»ä¼¼"é«˜"ä½†æ›´çŸ­',
                        difficulty: 1
                    },
                    'ã©ã†ã': {
                        romaji: 'do-u-zo',
                        phonetic: 'å¤šÂ·ä¹ŒÂ·ä½œ',
                        tips: '"ã†"æ˜¯é•¿éŸ³ï¼Œè¯»ä½œ"å¤šä¹Œ"',
                        difficulty: 1
                    },
                    'ã§ã™': {
                        romaji: 'de-su',
                        phonetic: 'å¾—Â·è‹',
                        tips: 'æ³¨æ„"ã™"è¯»ä½œè½»éŸ³"è‹"',
                        difficulty: 1
                    }
                };
                
                this.externalServices = [
                    {
                        name: 'Googleç¿»è¯‘',
                        url: (text) => `https://translate.google.com/?sl=ja&tl=zh&text=${encodeURIComponent(text)}&op=translate`,
                        icon: 'ğŸŒ',
                        description: 'æœ€å‡†ç¡®çš„æ—¥è¯­å‘éŸ³ï¼Œæ¨èä½¿ç”¨'
                    },
                    {
                        name: 'å¿…åº”ç¿»è¯‘',
                        url: (text) => `https://www.bing.com/translator/?text=${encodeURIComponent(text)}&from=ja&to=zh-Hans`,
                        icon: 'ğŸ”Š',
                        description: 'å¾®è½¯è¯­éŸ³å¼•æ“ï¼ŒéŸ³è´¨æ¸…æ™°'
                    },
                    {
                        name: 'æœ‰é“ç¿»è¯‘',
                        url: (text) => `https://fanyi.youdao.com/#/ja/zh/${encodeURIComponent(text)}`,
                        icon: 'ğŸ“±',
                        description: 'å›½å†…è®¿é—®ç¨³å®šï¼Œé€Ÿåº¦å¿«'
                    }
                ];
                
                this.currentText = '';
                this.currentButton = null;
                
                this.init();
            }
            
            async init() {
                console.log('ğŸš€ åˆå§‹åŒ–æ—¥è¯­éŸ³é¢‘ç³»ç»Ÿ V5.0');
                this.updateStatus('æ­£åœ¨åˆå§‹åŒ–éŸ³é¢‘ç³»ç»Ÿ...', 'loading');
                
                // æ£€æµ‹ç”¨æˆ·ç¯å¢ƒ
                this.detectEnvironment();
                
                // åˆå§‹åŒ–æœ¬åœ°è¯­éŸ³
                await this.initLocalSpeech();
                
                // æµ‹è¯•åœ¨çº¿æœåŠ¡
                await this.testOnlineServices();
                
                // ç»‘å®šäº‹ä»¶
                this.bindEvents();
                
                // æ˜¾ç¤ºçŠ¶æ€é¢æ¿
                this.showTestPanel();
                
                this.config.isInitialized = true;
                console.log('âœ… éŸ³é¢‘ç³»ç»Ÿåˆå§‹åŒ–å®Œæˆ');
            }
            
            detectEnvironment() {
                const userAgent = navigator.userAgent.toLowerCase();
                const isMobile = /android|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(userAgent);
                const isChrome = /chrome/i.test(userAgent);
                const isSafari = /safari/i.test(userAgent) && !/chrome/i.test(userAgent);
                const isFirefox = /firefox/i.test(userAgent);
                
                console.log(`ğŸ“± è®¾å¤‡ä¿¡æ¯: ${isMobile ? 'ç§»åŠ¨è®¾å¤‡' : 'æ¡Œé¢è®¾å¤‡'}`);
                console.log(`ğŸŒ æµè§ˆå™¨: ${isChrome ? 'Chrome' : isSafari ? 'Safari' : isFirefox ? 'Firefox' : 'å…¶ä»–'}`);
                
                // æ ¹æ®ç¯å¢ƒè°ƒæ•´ç­–ç•¥
                if (isMobile) {
                    this.config.currentMethod = 'manual';
                } else if (isChrome) {
                    this.config.currentMethod = 'local';
                } else {
                    this.config.currentMethod = 'manual';
                }
            }
            
            async initLocalSpeech() {
                if (!('speechSynthesis' in window)) {
                    console.log('âŒ æœ¬åœ°è¯­éŸ³ä¸æ”¯æŒ');
                    this.updateLocalStatus('ä¸æ”¯æŒ', 'offline');
                    return false;
                }
                
                this.config.speechSupported = true;
                
                // ç­‰å¾…è¯­éŸ³åŠ è½½
                return new Promise((resolve) => {
                    const loadVoices = () => {
                        const voices = speechSynthesis.getVoices();
                        console.log(`ğŸ” æ£€æµ‹åˆ° ${voices.length} ä¸ªè¯­éŸ³`);
                        
                        // æŸ¥æ‰¾æœ€ä½³æ—¥è¯­è¯­éŸ³
                        const japaneseVoices = voices.filter(voice => {
                            const lang = voice.lang.toLowerCase();
                            const name = voice.name.toLowerCase();
                            return lang.includes('ja') || name.includes('japanese') || 
                                   name.includes('kyoko') || name.includes('otoya');
                        });
                        
                        if (japaneseVoices.length > 0) {
                            this.config.japaneseVoice = japaneseVoices[0];
                            console.log(`âœ… æ‰¾åˆ°æ—¥è¯­è¯­éŸ³: ${this.config.japaneseVoice.name}`);
                            this.updateLocalStatus('å¯ç”¨', 'online');
                            resolve(true);
                        } else if (voices.length > 0) {
                            this.config.japaneseVoice = voices[0];
                            console.log(`âš ï¸ ä½¿ç”¨é»˜è®¤è¯­éŸ³: ${this.config.japaneseVoice.name}`);
                            this.updateLocalStatus('é»˜è®¤è¯­éŸ³', 'online');
                            resolve(true);
                        } else {
                            console.log('âŒ æ— å¯ç”¨è¯­éŸ³');
                            this.updateLocalStatus('æ— è¯­éŸ³', 'offline');
                            resolve(false);
                        }
                    };
                    
                    if (speechSynthesis.getVoices().length === 0) {
                        speechSynthesis.addEventListener('voiceschanged', loadVoices, { once: true });
                        setTimeout(loadVoices, 2000); // è¶…æ—¶å¤„ç†
                    } else {
                        loadVoices();
                    }
                });
            }
            
            async testOnlineServices() {
                console.log('ğŸŒ æµ‹è¯•åœ¨çº¿æœåŠ¡å¯ç”¨æ€§');
                this.updateOnlineStatus('æµ‹è¯•ä¸­', 'loading');
                
                // ç®€å•çš„ç½‘ç»œè¿æ¥æµ‹è¯•
                try {
                    const testUrl = 'https://www.google.com/favicon.ico';
                    const response = await fetch(testUrl, { 
                        method: 'HEAD', 
                        mode: 'no-cors',
                        cache: 'no-cache'
                    });
                    console.log('âœ… ç½‘ç»œè¿æ¥æ­£å¸¸');
                    this.updateOnlineStatus('å¯ç”¨', 'online');
                    return true;
                } catch (error) {
                    console.log('âŒ ç½‘ç»œè¿æ¥å¼‚å¸¸');
                    this.updateOnlineStatus('ç½‘ç»œå¼‚å¸¸', 'offline');
                    return false;
                }
            }
            
            bindEvents() {
                // ç»‘å®šæ‰€æœ‰éŸ³é¢‘æŒ‰é’®
                document.querySelectorAll('.audio-button').forEach(button => {
                    const text = button.getAttribute('data-text') || button.getAttribute('onclick')?.match(/'([^']+)'/)?.[1];
                    if (text) {
                        button.removeAttribute('onclick');
                        button.addEventListener('click', (e) => {
                            e.preventDefault();
                            this.playAudio(text, button);
                        });
                    }
                });
                
                // è¯­é€Ÿæ§åˆ¶
                document.getElementById('speechRate')?.addEventListener('change', () => {
                    console.log('ğŸšï¸ è¯­é€Ÿå·²è°ƒæ•´');
                });
                
                // æ’­æ”¾æ–¹å¼åˆ‡æ¢
                document.getElementById('audioMethod')?.addEventListener('change', (e) => {
                    this.config.currentMethod = e.target.value;
                    console.log(`ğŸ”„ æ’­æ”¾æ–¹å¼åˆ‡æ¢ä¸º: ${this.config.currentMethod}`);
                    this.updateRecommendedMethod();
                });
                
                // ç”¨æˆ·äº¤äº’æ¿€æ´»
                document.addEventListener('click', this.activateAudioContext.bind(this), { once: true });
                document.addEventListener('touchstart', this.activateAudioContext.bind(this), { once: true });
            }
            
            activateAudioContext() {
                if (this.config.speechSupported) {
                    const testUtterance = new SpeechSynthesisUtterance('');
                    testUtterance.volume = 0;
                    speechSynthesis.speak(testUtterance);
                    console.log('ğŸµ éŸ³é¢‘ä¸Šä¸‹æ–‡å·²æ¿€æ´»');
                }
            }
            
            async playAudio(text, button = null) {
                console.log(`ğŸµ æ’­æ”¾è¯·æ±‚: "${text}"`);
                this.currentText = text;
                this.currentButton = button;
                
                // é‡ç½®æ‰€æœ‰æŒ‰é’®çŠ¶æ€
                this.resetAllButtons();
                
                if (button) {
                    button.classList.add('loading');
                    button.textContent = 'â³';
                }
                
                const method = document.getElementById('audioMethod')?.value || this.config.currentMethod;
                
                switch (method) {
                    case 'local':
                        await this.playLocalAudio(text, button);
                        break;
                    case 'online':
                        await this.playOnlineAudio(text, button);
                        break;
                    case 'manual':
                        this.showManualOptions(text, button);
                        break;
                    case 'guide':
                        this.showPronunciationGuide(text, button);
                        break;
                    case 'auto':
                    default:
                        await this.playAutoAudio(text, button);
                        break;
                }
            }
            
            async playAutoAudio(text, button) {
                console.log('ğŸ¤– æ™ºèƒ½é€‰æ‹©æ’­æ”¾æ–¹å¼');
                
                // ä¼˜å…ˆæœ¬åœ°è¯­éŸ³
                if (this.config.speechSupported && this.config.japaneseVoice) {
                    const success = await this.playLocalAudio(text, button);
                    if (success) return;
                }
                
                // å¤‡ç”¨æ–¹æ¡ˆï¼šæ‰‹åŠ¨æ’­æ”¾
                this.showManualOptions(text, button);
            }
            
            async playLocalAudio(text, button) {
                if (!this.config.speechSupported || !this.config.japaneseVoice) {
                    console.log('âŒ æœ¬åœ°è¯­éŸ³ä¸å¯ç”¨');
                    return false;
                }
                
                return new Promise((resolve) => {
                    try {
                        speechSynthesis.cancel();
                        
                        const utterance = new SpeechSynthesisUtterance(text);
                        utterance.voice = this.config.japaneseVoice;
                        utterance.lang = 'ja-JP';
                        utterance.rate = parseFloat(document.getElementById('speechRate')?.value || 0.8);
                        utterance.pitch = 1.0;
                        utterance.volume = 1.0;
                        
                        utterance.onstart = () => {
                            console.log('â–¶ï¸ æœ¬åœ°æ’­æ”¾å¼€å§‹');
                            if (button) {
                                button.classList.remove('loading');
                                button.classList.add('playing');
                                button.textContent = 'â¸ï¸';
                            }
                        };
                        
                        utterance.onend = () => {
                            console.log('â¹ï¸ æœ¬åœ°æ’­æ”¾ç»“æŸ');
                            this.resetButton(button);
                            resolve(true);
                        };
                        
                        utterance.onerror = (event) => {
                            console.error(`âŒ æœ¬åœ°æ’­æ”¾é”™è¯¯: ${event.error}`);
                            this.resetButton(button);
                            resolve(false);
                        };
                        
                        speechSynthesis.speak(utterance);
                        
                    } catch (error) {
                        console.error('âŒ æœ¬åœ°æ’­æ”¾å¼‚å¸¸:', error);
                        this.resetButton(button);
                        resolve(false);
                    }
                });
            }
            
            async playOnlineAudio(text, button) {
                console.log('ğŸŒ å°è¯•åœ¨çº¿æ’­æ”¾ï¼ˆå®é™…ä¼šæ˜¾ç¤ºæ‰‹åŠ¨é€‰é¡¹ï¼‰');
                // åœ¨çº¿æ’­æ”¾å®é™…ä¸Šè·³è½¬åˆ°æ‰‹åŠ¨é€‰é¡¹ï¼Œå› ä¸ºå¤§å¤šæ•°åœ¨çº¿TTSæœ‰CORSé™åˆ¶
                this.showManualOptions(text, button);
                return false;
            }
            
            showManualOptions(text, button) {
                console.log('ğŸ“‹ æ˜¾ç¤ºæ‰‹åŠ¨æ’­æ”¾é€‰é¡¹');
                
                if (button) {
                    this.resetButton(button);
                    button.classList.add('manual');
                    button.textContent = 'ğŸ”—';
                }
                
                this.currentText = text;
                this.showManualPanel();
            }
            
            showPronunciationGuide(text = null, button = null) {
                const targetText = text || this.currentText;
                console.log(`ğŸ“– æ˜¾ç¤ºå‘éŸ³æŒ‡å¯¼: "${targetText}"`);
                
                if (button) {
                    this.resetButton(button);
                    button.classList.add('manual');
                    button.textContent = 'ğŸ“–';
                }
                
                const guideData = this.pronunciationData[targetText] || {
                    romaji: targetText,
                    phonetic: 'è¯·å‚è€ƒç½—é©¬éŸ³',
                    tips: 'å»ºè®®ä½¿ç”¨åœ¨çº¿ç¿»è¯‘å·¥å…·è·å–å‡†ç¡®å‘éŸ³',
                    difficulty: 1
                };
                
                const guideContent = document.getElementById('guideContent');
                guideContent.innerHTML = `
                    <div class="guide-item">
                        <strong>æ—¥æ–‡:</strong> ${targetText}
                    </div>
                    <div class="guide-item">
                        <strong>ç½—é©¬éŸ³:</strong> ${guideData.romaji}
                    </div>
                    <div class="guide-item">
                        <strong>è¿‘ä¼¼å‘éŸ³:</strong> ${guideData.phonetic}
                    </div>
                    <div class="guide-item">
                        <strong>å‘éŸ³è¦ç‚¹:</strong> ${guideData.tips}
                    </div>
                    <div class="learning-tips">
                        <strong>ğŸ’¡ å­¦ä¹ å»ºè®®:</strong>
                        <ul class="tips-list">
                            <li>è·Ÿç€åœ¨çº¿ç¿»è¯‘çš„è¯­éŸ³é‡å¤ç»ƒä¹ </li>
                            <li>æ³¨æ„æ—¥è¯­çš„éŸ³èŠ‚èŠ‚æ‹ï¼Œæ¯ä¸ªå‡åå¯¹åº”ä¸€æ‹</li>
                            <li>å½•éŸ³å¯¹æ¯”ï¼Œçº æ­£å‘éŸ³åå·®</li>
                            <li>å¤šå¬å¤šè¯´ï¼ŒåŸ¹å…»è¯­æ„Ÿå’Œè‡ªç„¶å‘éŸ³</li>
                        </ul>
                    </div>
                `;
                
                document.getElementById('pronunciationPanel').classList.add('show');
            }
            
            // UIæ§åˆ¶æ–¹æ³•
            showTestPanel() {
                const panel = document.getElementById('audioTestPanel');
                if (panel) {
                    panel.classList.add('show');
                    setTimeout(() => panel.classList.remove('show'), 8000);
                }
            }
            
            showManualPanel() {
                document.getElementById('manualAudioPanel').classList.add('show');
            }
            
            hideManualPanel() {
                document.getElementById('manualAudioPanel').classList.remove('show');
            }
            
            hidePronunciationGuide() {
                document.getElementById('pronunciationPanel').classList.remove('show');
            }
            
            // çŠ¶æ€æ›´æ–°æ–¹æ³•
            updateStatus(message, type = 'loading') {
                const statusEl = document.getElementById('currentAudioStatus');
                if (statusEl) {
                    statusEl.textContent = message;
                    statusEl.className = `audio-status ${type}`;
                }
            }
            
            updateLocalStatus(message, type) {
                const statusEl = document.getElementById('localStatus');
                if (statusEl) {
                    statusEl.innerHTML = `<span class="status-indicator ${type}"></span>${message}`;
                }
            }
            
            updateOnlineStatus(message, type) {
                const statusEl = document.getElementById('onlineStatus');
                if (statusEl) {
                    statusEl.innerHTML = `<span class="status-indicator ${type}"></span>${message}`;
                }
            }
            
            updateRecommendedMethod() {
                const methodEl = document.getElementById('recommendedMethod');
                const method = this.config.currentMethod;
                const methodNames = {
                    'auto': 'æ™ºèƒ½é€‰æ‹©',
                    'local': 'æœ¬åœ°è¯­éŸ³', 
                    'online': 'åœ¨çº¿è¯­éŸ³',
                    'manual': 'æ‰‹åŠ¨æ’­æ”¾',
                    'guide': 'å‘éŸ³æŒ‡å¯¼'
                };
                
                if (methodEl) {
                    methodEl.innerHTML = `<span class="status-indicator online"></span>${methodNames[method] || method}`;
                }
            }
            
            // æŒ‰é’®æ§åˆ¶æ–¹æ³•
            resetButton(button) {
                if (button) {
                    button.classList.remove('loading', 'playing', 'error', 'manual');
                    button.textContent = 'ğŸ”Š';
                }
            }
            
            resetAllButtons() {
                document.querySelectorAll('.audio-button').forEach(button => {
                    this.resetButton(button);
                });
            }
            
            // å¤–éƒ¨é“¾æ¥æ–¹æ³•
            openExternalService(serviceName) {
                const service = this.externalServices.find(s => s.name === serviceName);
                if (service && this.currentText) {
                    const url = service.url(this.currentText);
                    window.open(url, '_blank', 'noopener,noreferrer');
                    console.log(`ğŸ”— æ‰“å¼€å¤–éƒ¨æœåŠ¡: ${serviceName}`);
                }
            }
        }
        
        // å…¨å±€éŸ³é¢‘ç³»ç»Ÿå®ä¾‹
        let audioSystem;
        
        // å…¨å±€æ–¹æ³•ï¼ˆä¿æŒå‘åå…¼å®¹ï¼‰
        function testAudioSystem() {
            console.log('ğŸ§ª æ‰§è¡ŒéŸ³é¢‘ç³»ç»Ÿæµ‹è¯•');
            if (audioSystem) {
                audioSystem.showTestPanel();
                audioSystem.updateRecommendedMethod();
            }
        }
        
        function showAudioHelp() {
            alert(`ğŸµ æ—¥è¯­éŸ³é¢‘æ’­æ”¾å¸®åŠ©

ğŸ“± ä½¿ç”¨è¯´æ˜:
â€¢ ç‚¹å‡»ğŸ”ŠæŒ‰é’®æ’­æ”¾æ—¥è¯­å‘éŸ³
â€¢ å¯é€‰æ‹©ä¸åŒçš„æ’­æ”¾æ–¹å¼
â€¢ æ¨èä½¿ç”¨"æ™ºèƒ½é€‰æ‹©"æ¨¡å¼

ğŸ”§ æ’­æ”¾æ–¹å¼è¯´æ˜:
â€¢ æ™ºèƒ½é€‰æ‹©: è‡ªåŠ¨é€‰æ‹©æœ€ä½³æ’­æ”¾æ–¹æ³•
â€¢ æœ¬åœ°è¯­éŸ³: ä½¿ç”¨è®¾å¤‡å†…ç½®è¯­éŸ³å¼•æ“
â€¢ åœ¨çº¿è¯­éŸ³: è·³è½¬åˆ°åœ¨çº¿ç¿»è¯‘ç½‘ç«™
â€¢ æ‰‹åŠ¨æ’­æ”¾: æä¾›å¤šä¸ªåœ¨çº¿æœåŠ¡é€‰é¡¹
â€¢ å‘éŸ³æŒ‡å¯¼: æ˜¾ç¤ºè¯¦ç»†çš„å‘éŸ³è¯´æ˜

ğŸ’¡ å¦‚æœæ— æ³•æ’­æ”¾:
1. å°è¯•ä¸åŒçš„æ’­æ”¾æ–¹å¼
2. ä½¿ç”¨æ‰‹åŠ¨æ’­æ”¾é€‰é¡¹
3. æŸ¥çœ‹å‘éŸ³æŒ‡å¯¼å­¦ä¹ 

ğŸŒ æ¨èç½‘ç«™:
â€¢ Googleç¿»è¯‘: å‘éŸ³æœ€å‡†ç¡®
â€¢ å¿…åº”ç¿»è¯‘: éŸ³è´¨æ¸…æ™°
â€¢ æœ‰é“ç¿»è¯‘: å›½å†…è®¿é—®ç¨³å®š`);
        }
        
        function openGoogleTranslate() {
            audioSystem?.openExternalService('Googleç¿»è¯‘');
        }
        
        function openBingTranslator() {
            audioSystem?.openExternalService('å¿…åº”ç¿»è¯‘');
        }
        
        function openYoudaoTranslate() {
            audioSystem?.openExternalService('æœ‰é“ç¿»è¯‘');
        }
        
        function hideManualPanel() {
            audioSystem?.hideManualPanel();
        }
        
        function showPronunciationGuide() {
            audioSystem?.showPronunciationGuide();
        }
        
        function hidePronunciationGuide() {
            audioSystem?.hidePronunciationGuide();
        }
        
        // é¡µé¢åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸš€ é¡µé¢åŠ è½½å®Œæˆï¼Œåˆå§‹åŒ–æ—¥è¯­å­¦ä¹ ç³»ç»Ÿ');
            
            // åˆå§‹åŒ–éŸ³é¢‘ç³»ç»Ÿ
            audioSystem = new JapaneseAudioSystem();
            
            // åˆå§‹åŒ–å…¶ä»–åŠŸèƒ½
            updatePagination();
            
            console.log('âœ… ç³»ç»Ÿåˆå§‹åŒ–å®Œæˆ');
        });
        
        // è‡ªåŠ¨æ›´æ–°é¡µç å¯¼èˆª
        function updatePagination() {
            // è·å–å½“å‰é¡µé¢æ–‡ä»¶å
            const currentPath = window.location.pathname;
            const currentPage = currentPath.substring(currentPath.lastIndexOf('/') + 1);
            
            // æå–å½“å‰è¯¾ç¨‹ç¼–å·
            const currentLessonMatch = currentPage.match(/lesson(\d+)\.html/);
            if (!currentLessonMatch) return;
            
            const currentLessonNum = parseInt(currentLessonMatch[1]);
            const prevLessonNum = currentLessonNum - 1;
            const nextLessonNum = currentLessonNum + 1;
            
            // æ›´æ–°å¯¼èˆªé“¾æ¥
            const prevLink = document.querySelector('.nav-prev');
            const nextLink = document.querySelector('.nav-next');
            const paginationPrev = document.querySelector('.pagination-prev');
            const paginationNext = document.querySelector('.pagination-next');
            const paginationCurrent = document.querySelector('.pagination-current');
            
            // æ£€æŸ¥å‰ä¸€è¯¾æ˜¯å¦å­˜åœ¨
            if (prevLessonNum >= 1) {
                const prevUrl = `lesson${prevLessonNum}.html`;
                prevLink.href = prevUrl;
                prevLink.style.visibility = 'visible';
                
                paginationPrev.href = prevUrl;
                paginationPrev.textContent = `Â« ç¬¬${toChineseNumber(prevLessonNum)}è¯¾`;
                paginationPrev.style.visibility = 'visible';
            } else {
                prevLink.style.visibility = 'hidden';
                paginationPrev.style.visibility = 'hidden';
            }
            
            // æ€»æ˜¯æ›´æ–°å½“å‰è¯¾ç¨‹ç¼–å·
            paginationCurrent.textContent = `ç¬¬${toChineseNumber(currentLessonNum)}è¯¾`;
            
            // ä»å½“å‰DOMä¸­æ£€æµ‹å·²çŸ¥çš„è¯¾ç¨‹é“¾æ¥
            const courseLinks = detectExistingCourseLinks();
            const maxLessons = Math.max(...courseLinks, 6); // è‡³å°‘æ”¯æŒ6è¯¾
            
            if (nextLessonNum <= maxLessons) {
                const nextUrl = `lesson${nextLessonNum}.html`;
                nextLink.href = nextUrl;
                nextLink.style.visibility = 'visible';
                
                paginationNext.href = nextUrl;
                paginationNext.textContent = `ç¬¬${toChineseNumber(nextLessonNum)}è¯¾ Â»`;
                paginationNext.style.visibility = 'visible';
            } else {
                nextLink.style.visibility = 'hidden';
                paginationNext.style.visibility = 'hidden';
            }
        }
        
        // ä»å½“å‰DOMä¸­æ£€æµ‹å·²çŸ¥çš„è¯¾ç¨‹é“¾æ¥
        function detectExistingCourseLinks() {
            const links = document.querySelectorAll('a[href^="lesson"]');
            const courseNumbers = [];
            
            links.forEach(link => {
                const match = link.getAttribute('href').match(/lesson(\d+)\.html/);
                if (match && match[1]) {
                    courseNumbers.push(parseInt(match[1]));
                }
            });
            
            return courseNumbers.length > 0 ? courseNumbers : [6]; // é»˜è®¤è‡³å°‘6è¯¾
        }
        
        function toChineseNumber(num) {
            // ç®€å•çš„æ•°å­—è½¬ä¸­æ–‡æ•°å­—ï¼Œé€‚ç”¨äºè¯¾ç¨‹ç¼–å·
            const chineseNumbers = ['é›¶', 'ä¸€', 'äºŒ', 'ä¸‰', 'å››', 'äº”', 'å…­', 'ä¸ƒ', 'å…«', 'ä¹', 'å'];
            if (num <= 10) return chineseNumbers[num];
            if (num < 20) return 'å' + (num > 10 ? chineseNumbers[num - 10] : '');
            const tens = Math.floor(num / 10);
            const ones = num % 10;
            return chineseNumbers[tens] + 'å' + (ones > 0 ? chineseNumbers[ones] : '');
        }
    </script>
</body>
</html>
